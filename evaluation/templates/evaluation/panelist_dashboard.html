<!DOCTYPE html>
<html>
<head>
    <title>Panelist Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #E8D8F2; /* Light lavender */
            color: #2E0F47; /* Deep purple */
        }
        h1, h2, h3 {
            color: #5A397A; /* Medium purple */
        }
        .team-box {
            border: 1px solid #5F4F63; /* Dark gray-purple */
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #A88FBF; /* Softer lavender */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            text-align: left;
            padding: 8px;
            border: 1px solid #5F4F63;
        }
        th {
            background-color: #5A397A;
            color: white;
        }
        td {
            background-color: #E8D8F2;
        }
        input {
            width: 100%;
            box-sizing: border-box;
            padding: 5px;
            border: 1px solid #5F4F63;
            border-radius: 3px;
            background-color: #FFFFFF;
        }
            label {
                display: block;
                margin-bottom: 5px;
                font-weight: bold;
                color: #2E0F47; /* Deep purple */
            }
        
            input[type="text"],
            select {
                width: 100%;
                max-width: 400px;
                padding: 10px;
                margin-bottom: 15px;
                font-size: 14px;
                color: #2E0F47; /* Deep purple */
                background-color: #E8D8F2; /* Light lavender */
                border: 1px solid #5F4F63; /* Dark gray-purple */
                border-radius: 5px;
                box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
                transition: all 0.2s ease-in-out;
            }
        
            input[type="text"]:focus,
            select:focus {
                outline: none;
                border-color: #5A397A; /* Medium purple */
                box-shadow: 0 0 5px #5A397A;
            }
        
            select {
                cursor: pointer;
                appearance: none; /* Removes the default browser styling for dropdowns */
                background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 5"><path fill="%235A397A" d="M2 0L0 2h4z"/></svg>'); /* Custom dropdown arrow */
                background-repeat: no-repeat;
                background-position: right 10px center;
                background-size: 10px;
            }
        
            input::placeholder {
                color: #5F4F63; /* Slightly muted dark gray-purple */
            }
            button[type="submit"] {
                padding: 12px 20px;
                font-size: 16px;
                font-weight: bold;
                color: #FFFFFF; /* White text */
                background-color: #5A397A; /* Medium purple */
                border: none;
                border-radius: 5px;
                cursor: pointer;
                transition: all 0.3s ease-in-out;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }
        
            button[type="submit"]:hover {
                background-color: #2E0F47; /* Deep purple on hover */
                box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
                transform: translateY(-2px); /* Slight lift effect */
            }
        
            button[type="submit"]:active {
                background-color: #5F4F63; /* Dark gray-purple on click */
                box-shadow: inset 0 4px 6px rgba(0, 0, 0, 0.2);
                transform: translateY(0); /* Remove lift effect */
            }
        
    </style>
</head>
<body>
    <h1>Panelist Dashboard</h1>

    <!-- List of Teams with Uploaded Files -->
    <h2>Teams and Uploaded Files</h2>
    {% for team in teams %}
        <div class="team-box">
            <h3>{{ team.name }}</h3>
            <p><strong>Guide:</strong> {{ team.guide_name|default:"Not Assigned" }}</p>
            <p><strong>GitHub Repo:</strong> 
                {% if team.github_repo %}
                    <a href="{{ team.github_repo }}" target="_blank">View Repository</a>
                {% else %}
                    Not Uploaded
                {% endif %}
            </p>
            <p><strong>Phase 1 File:</strong> 
                {% if team.phase1_file %}
                    <a href="{{ team.phase1_file.url }}" download>Download</a>
                {% else %}
                    Not Uploaded
                {% endif %}
            </p>
        </div>
    {% endfor %}
    <form method="post">
        {% csrf_token %}

        <!-- Panelist Name -->
       <!-- Panelist Name -->
<label for="panelist_name">Your Name:</label>
<input type="text" name="panelist_name" id="panelist_name" placeholder="Enter your name" required>

<!-- Select Team -->
<label for="team_id">Select Team:</label>
<select name="team_id" id="team_id" required>
    {% for team in teams %}
        <option value="{{ team.id }}">{{ team.name }}</option>
    {% endfor %}
</select>

<!-- Select Phase -->
<label for="phase">Select Phase:</label>
<select name="phase" id="phase" required>
    <option value="phase1">Phase 1</option>
    <option value="phase2">Phase 2</option>
    <option value="phase3">Phase 3</option>
</select>


    <!-- Rubrics Table -->
    <h2>Evaluation Rubrics</h2>
    <form method="post">
        {% csrf_token %}
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Rubric</th>
                    <th>Max Marks</th>
                    <th>Marks Secured</th>
                </tr>
            </thead>
            <tbody>
                {% for rubric in rubrics %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ rubric }}</td>
                        <td>
                            <!-- Placeholder max marks based on predefined rules -->
                            {% if forloop.counter == 1 %}10
                            {% elif forloop.counter == 2 or forloop.counter == 3 or forloop.counter == 4 %}5
                            {% elif forloop.counter == 5 or forloop.counter == 6 %}10
                            {% elif forloop.counter == 7 %}5
                            {% else %}5{% endif %}
                        </td>
                        <td>
                            <!-- Input field for panelists to enter marks -->
                            <input type="number" name="marks_{{ forloop.counter }}" min="0" max="10" placeholder="Enter marks">
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Submit Evaluation -->
        <button type="submit" style="margin-top: 15px;">Submit Evaluation</button>
    </form>
</body>
</html>
